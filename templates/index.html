<!DOCTYPE html>
<html>
<head>
    <title>Receitas Deliciosas</title>
    <!-- Link para o arquivo CSS de estilos -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Link para a fonte Inter do Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Meta tag para garantir a responsividade em diferentes dispositivos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <!-- Container principal para o conteúdo da página, aplicando estilos de layout -->
    <div class="container">
        <!-- Título principal da página -->
        <h1>Receitas Deliciosas</h1>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class="flash-list">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
        <form action="/" method="get" class="search-form">
            <input type="text" name="query" placeholder="Buscar por ingredientes (ex: arroz, feijão)" value="{{ query or '' }}">
            <button type="submit">Buscar</button>
        </form>
        <!-- Botões de ações -->
        <div class="actions-bar">
            <button onclick="window.location.href='{{ url_for('nova_receita') }}'" class="add-recipe-button button-link btn-primary">Adicionar Nova Receita</button>
            {% if current_user_id %}
            <button onclick="window.location.href='{{ url_for('meus_favoritos') }}'" class="button-link btn-accent">Favoritos</button>
            <button onclick="window.location.href='{{ url_for('notificacoes') }}'" class="button-link btn-info">Notificações</button>
            <button onclick="window.location.href='{{ url_for('logout') }}'" class="button-link">Sair</button>
            {% else %}
            <button onclick="window.location.href='{{ url_for('login') }}'" class="button-link">Entrar</button>
            <button onclick="window.location.href='{{ url_for('registrar') }}'" class="button-link btn-primary">Registrar</button>
            {% endif %}
        </div>
        <!-- Lista de receitas -->

<button onclick="window.location.href='{{ url_for('meus_favoritos') }}'" class="button-link btn-accent">Minhas Receitas Favoritas</button>
        <ul>
            <!-- Loop para exibir cada receita na lista -->
            {% for r in receitas %}
                <!-- Item da lista que contém um link para os detalhes da receita -->
                <li><a href="{{ url_for('receita_detail', id=r.id) }}">{{ r.titulo }}</a></li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
